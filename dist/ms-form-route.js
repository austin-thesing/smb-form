(()=>{var I=Object.defineProperty;var _=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var v=(t,e,n)=>e in t?I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||(e={}))k.call(e,n)&&v(t,n,e[n]);if(_)for(var n of _(e))q.call(e,n)&&v(t,n,e[n]);return t};var w=(t,e,n)=>new Promise((c,a)=>{var l=o=>{try{d(n.next(o))}catch(r){a(r)}},h=o=>{try{d(n.throw(o))}catch(r){a(r)}},d=o=>o.done?c(o.value):Promise.resolve(o.value).then(l,h);d((n=n.apply(t,e)).next())});(function(t,e,n,c){if(!t.getElementById(n)){var a=t.createElement(e),l=t.getElementsByTagName(e)[0];a.id=n,a.src="//js.hs-analytics.net/analytics/"+Math.ceil(new Date/c)*c+"/19654160.js",l.parentNode.insertBefore(a,l)}})(document,"script","hs-analytics",3e5);window.addEventListener("load",function(){window._hsq&&(window._hsq.push(["setPath",window.location.pathname]),window._hsq.push(["trackPageView"]))});function F(){let t=document.createElement("script");t.src="https://js.hsforms.net/forms/embed/19654160.js",t.defer=!0,document.head.appendChild(t)}function L(t){let e=t.value.replace(/\D/g,"");if(e===""){t.value="";return}let n=parseInt(e);if(isNaN(n)){t.value="";return}n>2e6&&(n=2e6),e=n.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e.replace(/^\$/,""),t.value="$"+e}function D(t){let e=t.value.replace(/\D/g,"");if(e===""){t.value="";return}let n=parseInt(e);if(isNaN(n)){t.value="";return}e=n.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e.replace(/^\$/,""),t.value="$"+e}function N(t){let e=t.value.replace(/\D/g,"");e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)),t.value=e}var B=document.querySelectorAll('input[data-type="dollar"]');B.forEach(t=>{t.id!=="Funding-Amount"&&t.id!=="Revenue-per-month"&&t.addEventListener("input",function(){this.value.trim()!==""&&D(this)})});var b=document.getElementById("Funding-Amount");b&&b.addEventListener("input",function(){this.value.trim()!==""&&L(this)});var S=document.getElementById("Revenue-per-month");S&&S.addEventListener("input",function(){this.value.trim()!==""&&D(this)});var E=document.getElementById("When-did-you-start-your-business");E&&E.addEventListener("input",function(){N(this)});document.addEventListener("DOMContentLoaded",function(){F();let t=document.getElementById("wf-form-SMB");if(!t){console.error("Form element not found! Check if the form ID is correct.");return}let e="19654160",n="e387a024-a165-4d47-956c-23e0e1f6b7eb";function c(){var o;return((o=document.cookie.split("; ").find(r=>r.startsWith("hubspotutk=")))==null?void 0:o.split("=")[1])||""}function a(){return{pageUri:window.location.href,pageName:document.title}}function l(o){return w(this,null,function*(){let r=`https://api.hsforms.com/submissions/v3/integration/submit/${e}/${n}`,u=h(o);try{window._hsq&&!window._formStartTracked&&(window._hsq.push(["trackEvent",{id:"form_start"}]),window._formStartTracked=!0);let i=yield fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),s=yield i.json();if(!i.ok)throw console.error("HubSpot Error Details:"),console.error("Status:",i.status),console.error("Response Data:",s),console.error("Fields Sent:",u.fields.map(m=>`${m.name}: ${m.value}`)),window._hsq&&window._hsq.push(["trackEvent",{id:"form_submission_error",value:i.status}]),new Error(`HubSpot submission failed: ${s.message||"Unknown error"}`);return window._hsq&&(window._hsq.push(["trackEvent",{id:"form_submission_success"}]),window._hsq.push(["identify",{email:o.get("Email"),firstname:o.get("First-Name"),lastname:o.get("Last-Name")}])),s}catch(i){throw console.error("Error submitting to HubSpot:",i),i}})}function h(o){let r=[],u=g({hutk:c()},a()),i={"First-Name":"firstname","Last-Name":"lastname",Email:"email",Phone:"phone","Registered-Business-Name":"business_name",Industry:"industry__dropdown_","Funding-Amount":"user_reported_desired_amount","Revenue-per-month":"user_reported_monthly_revenue","Use-of-funds":"use_of_funds","Timeline-For-Loan":"when_do_you_need_the_loan_","When-did-you-start-your-business":"year_founded","Are-you-an-ecommerce-seller":"ecommerce_seller"};for(let[m,y]of Object.entries(i)){let f=o.get(m);if(m==="Industry"){let p=document.getElementById("Industry");p&&p.value&&(f=p.value)}f&&f.trim()!==""&&(y==="industry__dropdown_"?r.push({name:"industry__dropdown_",value:f.trim()}):r.push({name:y,value:f.trim()}))}let s=document.querySelector(".is-custom-select");return s&&s.value&&s.value!=="Business state*"&&r.push({name:"contact_state",value:s.value.trim()}),{fields:r,context:u}}let d=document.querySelector("#submit");if(d){let o=r=>{window._hsq&&window._hsq.push(["trackEvent",{id:"form_step_complete",value:r}])};document.querySelectorAll('[data-form="next-btn"]').forEach((r,u)=>{r.addEventListener("click",()=>{o(u+1)})}),d.addEventListener("click",function(r){return w(this,null,function*(){let u=document.querySelector(".w-form-done"),i=document.querySelector(".w-form-fail");try{let s=new FormData(t),m=yield l(s)}catch(s){console.error("HubSpot submission failed:",s),i.style.display="block",u.style.display="none"}})})}else console.error("Formly submit button not found! Check if the button ID is correct.")});})();
//# sourceMappingURL=ms-form-route.js.map
