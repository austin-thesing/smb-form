(()=>{var q=Object.defineProperty;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(t,e,n)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||(e={}))D.call(e,n)&&b(t,n,e[n]);if(v)for(var n of v(e))F.call(e,n)&&b(t,n,e[n]);return t};var y=(t,e,n)=>new Promise((m,a)=>{var f=o=>{try{h(n.next(o))}catch(s){a(s)}},p=o=>{try{h(n.throw(o))}catch(s){a(s)}},h=o=>o.done?m(o.value):Promise.resolve(o.value).then(f,p);h((n=n.apply(t,e)).next())});(function(t,e,n,m){if(!t.getElementById(n)){var a=t.createElement(e),f=t.getElementsByTagName(e)[0];a.id=n,a.src="//js.hs-analytics.net/analytics/"+Math.ceil(new Date/m)*m+"/19654160.js",f.parentNode.insertBefore(a,f)}})(document,"script","hs-analytics",3e5);window.addEventListener("load",function(){window._hsq&&(window._hsq.push(["setPath",window.location.pathname]),window._hsq.push(["trackPageView"]))});function L(){let t=document.createElement("script");t.src="https://js.hsforms.net/forms/embed/19654160.js",t.defer=!0,document.head.appendChild(t)}function _(t){let e=t.value.replace(/\D/g,"");if(e===""){t.value="";return}let n=parseInt(e);if(isNaN(n)){t.value="";return}e=n.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),e=e.replace(/^\$/,""),t.value="$"+e}function B(t){let e=t.value.replace(/\D/g,"");if(e.length>=2){let n=parseInt(e.slice(0,2));n===0&&(n=1),n>12&&(n=12),e=n.toString().padStart(2,"0")+e.slice(2)}e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)),t.value=e}var N=document.querySelectorAll('input[data-type="dollar"]');N.forEach(t=>{t.addEventListener("input",function(){this.value.trim()!==""&&_(this)})});var E=document.getElementById("Funding-Amount");E&&E.addEventListener("input",function(){this.value.trim()!==""&&_(this)});var I=document.getElementById("Revenue-per-month");I&&I.addEventListener("input",function(){this.value.trim()!==""&&_(this)});var k=document.getElementById("When-did-you-start-your-business");k&&k.addEventListener("input",function(){B(this)});document.addEventListener("DOMContentLoaded",function(){L();let t=document.getElementById("wf-form-SMB");if(!t){console.error("Form element not found! Check if the form ID is correct.");return}let e="19654160",n="e387a024-a165-4d47-956c-23e0e1f6b7eb";function m(){var o;return((o=document.cookie.split("; ").find(s=>s.startsWith("hubspotutk=")))==null?void 0:o.split("=")[1])||""}function a(){return{pageUri:window.location.href,pageName:document.title}}function f(o){return y(this,null,function*(){let s=`https://api.hsforms.com/submissions/v3/integration/submit/${e}/${n}`,u=p(o);try{window._hsq&&!window._formStartTracked&&(window._hsq.push(["trackEvent",{id:"form_start"}]),window._formStartTracked=!0);let r=yield fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),i=yield r.json();if(!r.ok)throw console.error("HubSpot Error Details:"),console.error("Status:",r.status),console.error("Response Data:",i),console.error("Fields Sent:",u.fields.map(c=>`${c.name}: ${c.value}`)),window._hsq&&window._hsq.push(["trackEvent",{id:"form_submission_error",value:r.status}]),new Error(`HubSpot submission failed: ${i.message||"Unknown error"}`);return window._hsq&&(window._hsq.push(["trackEvent",{id:"form_submission_success"}]),window._hsq.push(["identify",{email:o.get("Email"),firstname:o.get("First-Name"),lastname:o.get("Last-Name")}])),i}catch(r){throw console.error("Error submitting to HubSpot:",r),r}})}function p(o){let s=[],u=S({hutk:m()},a()),r=l=>l&&l.replace(/[$,]/g,"").trim(),i={"First-Name":"firstname","Last-Name":"lastname",Email:"email",Phone:"phone","Registered-Business-Name":"business_name",Industry:"industry__dropdown_","Funding-Amount":"user_reported_desired_amount","Revenue-per-month":"user_reported_monthly_revenue","Use-of-funds":"use_of_funds","Timeline-For-Loan":"when_do_you_need_the_loan_","When-did-you-start-your-business":"year_founded","Are-you-an-ecommerce-seller":"ecommerce_seller"};for(let[l,g]of Object.entries(i)){let d=o.get(l);if(l==="Industry"){let w=document.getElementById("Industry");w&&w.value&&(d=w.value)}d&&d.trim()!==""&&((l==="Funding-Amount"||l==="Revenue-per-month")&&(d=r(d)),g==="industry__dropdown_"?s.push({name:"industry__dropdown_",value:d.trim()}):s.push({name:g,value:d.trim()}))}let c=document.querySelector(".is-custom-select");return c&&c.value&&c.value!=="Business state*"&&s.push({name:"contact_state",value:c.value.trim()}),{fields:s,context:u}}let h=document.querySelector("#submit");if(h){let o=s=>{window._hsq&&window._hsq.push(["trackEvent",{id:"form_step_complete",value:s}])};document.querySelectorAll('[data-form="next-btn"]').forEach((s,u)=>{s.addEventListener("click",()=>{o(u+1)})}),h.addEventListener("click",function(s){return y(this,null,function*(){let u=document.querySelector(".w-form-done"),r=document.querySelector(".w-form-fail");try{let i=new FormData(t),c=yield f(i)}catch(i){console.error("HubSpot submission failed:",i),r.style.display="block",u.style.display="none"}})})}else console.error("Formly submit button not found! Check if the button ID is correct.")});})();
//# sourceMappingURL=ms-form-route.js.map
