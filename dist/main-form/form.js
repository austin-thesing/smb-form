(()=>{var N=Object.defineProperty;var k=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var F=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&F(e,n,t[n]);if(k)for(var n of k(t))U.call(t,n)&&F(e,n,t[n]);return e};var E=(e,t,n)=>new Promise((r,u)=>{var f=a=>{try{d(n.next(a))}catch(c){u(c)}},w=a=>{try{d(n.throw(a))}catch(c){u(c)}},d=a=>a.done?r(a.value):Promise.resolve(a.value).then(f,w);d((n=n.apply(e,t)).next())});var v={webflowFormId:"wf-form-main-hero-form",hubspotFormId:"44b5a828-468f-4814-a71e-04ab7d1fd89a",redirectBaseUrl:"https://app.onrampfunds.com/signup"};var A=v;document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById(A.webflowFormId),t=document.getElementById("Are-you-an-ecommerce-seller"),n=document.getElementById("Funding-Amount"),r=document.getElementById("Revenue-per-month"),u=document.getElementById("Use-of-funds");if(!e||!t||!n||!r||!u)return;function f(d){let a=d.value.replace(/[\$,]/g,""),c=parseInt(a,10);return!isNaN(c)&&c>0?c:null}function w(d){let a=d.value;return{Inventory:"inventory",Marketing:"marketing","Other Business Expense":"other"}[a]||null}t.addEventListener("change",d=>{if(d.target.value==="Yes"){let a=f(n),c=f(r),s=w(u),o=new URLSearchParams;o.append("marketing_survey_upsert_survey_form[online_merchant]","true"),a!==null&&o.append("marketing_survey_upsert_survey_form[funding_amount]",a),c!==null&&o.append("marketing_survey_upsert_survey_form[average_monthly_sales]",c),s!==null&&o.append("marketing_survey_upsert_survey_form[funding_reason]",s);let i=`${A.redirectBaseUrl}?${o.toString()}`;window.location.href=i}})});var y=v;(function(e,t,n,r){if(!e.getElementById(n)){var u=e.createElement(t),f=e.getElementsByTagName(t)[0];u.id=n,u.src="//js.hs-analytics.net/analytics/"+Math.ceil(new Date/r)*r+"/19654160.js",u.onload=function(){window._hsq&&(window._hsq.push(["setPath",window.location.pathname]),window._hsq.push(["trackPageView"]))},f.parentNode.insertBefore(u,f)}})(document,"script","hs-analytics",3e5);function C(){let e={},t=new URLSearchParams(window.location.search);for(let[n,r]of t)e[n]=r;return e}function O(){let e=C();["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(n=>{if(e[n]){let r=document.querySelector(`input[name="${n}"]`);if(!r){r=document.createElement("input"),r.type="hidden",r.name=n;let u=document.getElementById(y.webflowFormId);u&&u.appendChild(r)}r.value=e[n]}})}window.addEventListener("load",function(){window._hsq&&(window._hsq.push(["setPath",window.location.pathname]),window._hsq.push(["trackPageView"])),O()});function P(){let e=document.createElement("script");e.src="https://js.hsforms.net/forms/embed/19654160.js",e.defer=!0,document.head.appendChild(e)}function I(e){let t=e.value.replace(/\D/g,"");if(t===""){e.value="";return}let n=parseInt(t);if(isNaN(n)){e.value="";return}t=n.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),t=t.replace(/^\$/,""),e.value="$"+t}function V(e){let t=e.value.replace(/\D/g,"");if(t.length>=2){let n=parseInt(t.slice(0,2));n===0&&(n=1),n>12&&(n=12),t=n.toString().padStart(2,"0")+t.slice(2)}t.length>2&&(t=t.slice(0,2)+"/"+t.slice(2)),t.length>5&&(t=t.slice(0,5)),e.value=t}var M=document.querySelectorAll('input[data-type="dollar"]');M.forEach(e=>{e.addEventListener("input",function(){this.value.trim()!==""&&I(this)})});var D=document.getElementById("Funding-Amount");D&&D.addEventListener("input",function(){this.value.trim()!==""&&I(this)});var B=document.getElementById("Revenue-per-month");B&&B.addEventListener("input",function(){this.value.trim()!==""&&I(this)});var L=document.getElementById("When-did-you-start-your-business");L&&L.addEventListener("input",function(){V(this)});document.addEventListener("DOMContentLoaded",function(){P();let e=document.getElementById(y.webflowFormId);if(!e)return;new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&window._hsq&&!window._formViewTracked&&(window._hsq.push(["trackEvent",{id:"form_view"}]),window._formViewTracked=!0,window._hsq.push(["trackForms",{formId:y.hubspotFormId,formInstanceId:e.getAttribute("data-form-instance-id")||"1"}]))})}).observe(e);let n="19654160",r=y.hubspotFormId;function u(){var s;return((s=document.cookie.split("; ").find(o=>o.startsWith("hubspotutk=")))==null?void 0:s.split("=")[1])||""}function f(){return{pageUri:window.location.href,pageName:document.title}}function w(s){let i=`; ${document.cookie}`.split(`; ${s}=`);if(i.length===2){let m=i.pop().split(";").shift();try{return JSON.parse(decodeURIComponent(m))}catch(_){return m}}return null}function d(s){return E(this,null,function*(){let o=`https://api.hsforms.com/submissions/v3/integration/submit/${n}/${r}`,i=a(s);try{window._hsq&&!window._formStartTracked&&(window._hsq.push(["trackEvent",{id:"form_start"}]),window._formStartTracked=!0);let m=yield fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),_=yield m.json();if(!m.ok)throw window._hsq&&window._hsq.push(["trackEvent",{id:"form_submission_error",value:m.status}]),new Error(`HubSpot submission failed: ${_.message||"Unknown error"}`);return window._hsq&&(window._hsq.push(["trackFormSubmission",r,{formVariant:"A",formInstanceId:e.getAttribute("data-form-instance-id")||"1"}]),window._hsq.push(["trackEvent",{id:"form_submission_success"}]),window._hsq.push(["identify",{email:s.get("Email"),firstname:s.get("First-Name"),lastname:s.get("Last-Name")}])),_}catch(m){throw m}})}function a(s){let o=[],i=q({hutk:u()},f()),m=l=>l&&l.replace(/[$,]/g,"").trim();["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(l=>{let h=s.get(l);h&&o.push({name:l,value:h.trim()})});let S={"First-Name":"firstname","Last-Name":"lastname",Email:"email",Phone:"phone","Registered-Business-Name":"business_name",Industry:"industry__dropdown_","Funding-Amount":"user_reported_desired_amount","Revenue-per-month":"user_reported_monthly_revenue","Use-of-funds":"use_of_funds","Timeline-For-Loan":"when_do_you_need_the_loan_","When-did-you-start-your-business":"year_founded","Are-You-An-Ecommerce-Seller":"ecommerce_seller","Do-you-have-a-business-bank-account":"business_bank_account"};for(let[l,h]of Object.entries(S)){let p=s.get(l);if(l==="Industry"){let b=document.getElementById("Industry");b&&b.value&&(p=b.value)}p&&p.trim()!==""&&((l==="Funding-Amount"||l==="Revenue-per-month")&&(p=m(p)),h==="industry__dropdown_"?o.push({name:"industry__dropdown_",value:p.trim()}):o.push({name:h,value:p.trim()}))}let g=document.querySelector(".is-custom-select");return g&&g.value&&g.value!=="Business state*"&&o.push({name:"contact_state",value:g.value.trim()}),{fields:o,context:i}}let c=document.querySelector("#submit");if(c){let s=o=>{window._hsq&&window._hsq.push(["trackEvent",{id:"form_step_complete",value:o}])};document.querySelectorAll('[data-form="next-btn"]').forEach((o,i)=>{o.addEventListener("click",()=>{s(i+1)})}),c.addEventListener("click",function(o){return E(this,null,function*(){try{let i=new FormData(e);window._hsq&&window._hsq.push(["trackEvent",{id:"form_submit_attempt"}]);let m=yield d(i);window._hsq&&(window._hsq.push(["trackFormSubmission",r,{formVariant:"A",formInstanceId:e.getAttribute("data-form-instance-id")||"1"}]),window._hsq.push(["trackEvent",{id:"form_submission_success"}]),window._hsq.push(["identify",{email:i.get("Email"),firstname:i.get("First-Name"),lastname:i.get("Last-Name")}]))}catch(i){let m=document.querySelector(".w-form-fail");m&&(m.style.display="block"),window._hsq&&window._hsq.push(["trackEvent",{id:"form_submission_error",value:i.message}])}})})}});})();
//# sourceMappingURL=form.js.map
